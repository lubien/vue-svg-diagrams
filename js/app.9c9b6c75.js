(function(t){function e(e){for(var n,r,h=e[0],a=e[1],d=e[2],l=0,g=[];l<h.length;l++)r=h[l],s[r]&&g.push(s[r][0]),s[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);u&&u(e);while(g.length)g.shift()();return o.push.apply(o,d||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,h=1;h<i.length;h++){var a=i[h];0!==s[a]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},o=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vue-svg-diagrams/";var h=window["webpackJsonp"]=window["webpackJsonp"]||[],a=h.push.bind(h);h.push=e,h=h.slice();for(var d=0;d<h.length;d++)e(h[d]);var u=a;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("64a9"),s=i.n(n);s.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"parent",attrs:{id:"app"}},[i("svg",{attrs:{width:t.width,height:t.height}},[i("rect",{attrs:{x:"0",y:"0",width:t.width,height:t.width,fill:"#dedede"}}),i("Step",{attrs:{"svg-width":t.width,"svg-height":t.height,"initial-x":500,"initial-y":200,draggable:""}})],1)])},o=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{staticStyle:{outline:"none"},attrs:{width:t.svgWidth,height:t.svgHeight,tabindex:"-1"},on:{blur:t.hideControls}},[i("g",[i("svg",{staticClass:"shadow",class:{draggable:t.draggable,dragging:t.dragging,"content-editable":t.contentEditable},attrs:{x:t.x,y:t.y,width:t.width,height:t.height},on:{mousedown:t.mouseDownDragging}},[i("rect",{attrs:{x:"0",y:"0",width:t.width,height:t.height,rx:"5",ry:"3",fill:"white",stroke:"#d9d9d9"}}),i("foreignObject",{ref:"foreign",attrs:{x:"0",y:"0",width:t.width,height:t.height}},[i("div",{ref:"textDiv",staticClass:"foreign-div",attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[i("span",{staticClass:"node-text",attrs:{contenteditable:t.contentEditable}},[t._v("Lorem ipsum")])])])],1)]),t.showControls?i("g",[i("svg",{attrs:{x:t.x,y:t.y-30,width:t.width},on:{mousedown:t.toggleContentEditable}},[i("g",[i("ellipse",{attrs:{x:1*t.width/2-2,y:12,cx:1*t.width/2-2,cy:12,width:"12",height:"12",rx:"12",ry:"12",fill:"#4D4D4D"}}),i("svg",{attrs:{x:1*t.width/2-9,cx:1*t.width/2-9,y:4,cy:11,width:"15",height:"15",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",fill:"white"}},[t.contentEditable?i("path",{attrs:{d:"M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"}}):i("path",{attrs:{d:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z"}})])])]),i("ellipse",{staticStyle:{cursor:"nw-resize"},attrs:{x:t.x,y:t.y,cx:t.x,cy:t.y,width:"6",height:"6",rx:"6",ry:"6",fill:"#c6bde4"},on:{mousedown:function(e){return t.startResize({fixBottom:!0,fixRight:!0})}}}),i("ellipse",{staticStyle:{cursor:"ne-resize"},attrs:{x:t.x,y:t.y,cx:t.x+t.width,cy:t.y,width:"6",height:"6",rx:"6",ry:"6",fill:"#c6bde4"},on:{mousedown:function(e){return t.startResize({fixBottom:!0,fixLeft:!0})}}}),i("ellipse",{staticStyle:{cursor:"sw-resize"},attrs:{x:t.x,y:t.y,cx:t.x,cy:t.y+t.height,width:"6",height:"6",rx:"6",ry:"6",fill:"#c6bde4"},on:{mousedown:function(e){return t.startResize({fixTop:!0,fixRight:!0})}}}),i("ellipse",{staticStyle:{cursor:"se-resize"},attrs:{x:t.x,y:t.y,cx:t.x+t.width,cy:t.y+t.height,width:"6",height:"6",rx:"6",ry:"6",fill:"#c6bde4"},on:{mousedown:function(e){return t.startResize({fixTop:!0,fixLeft:!0})}}})]):t._e()])},h=[],a=(i("c5f6"),{name:"Step",props:{svgWidth:{type:Number,required:!0},svgHeight:{type:Number,required:!0},initialWidth:{type:Number,default:200},initialHeight:{type:Number,default:100},initialX:{type:Number,required:!0},initialY:{type:Number,required:!0},draggable:{type:Boolean,default:!1}},data:function(){return{x:0,y:0,width:200,height:100,dragging:!1,resizing:!1,showControls:!1,contentEditable:!1,cursorOffset:{x:0,y:0},dragStart:{x:0,y:0},fixedPositions:{top:0,bottom:0,left:0,right:0}}},created:function(){this.x=this.initialX,this.y=this.initialY,this.width=this.initialWidth,this.height=this.initialHeight},mounted:function(){},methods:{mouseDownDragging:function(t){this.showControls=!0,this.draggable&&(this.cursorOffset.x=t.pageX,this.cursorOffset.y=t.pageY,this.dragStart.x=this.x,this.dragStart.y=this.y,this.dragging=!0,document.addEventListener("mousemove",this.mouseMoveDragging),document.addEventListener("mouseup",this.mouseUpDragging))},mouseMoveDragging:function(t){var e=t.pageX,i=t.pageY;this.x=this.dragStart.x+(e-this.cursorOffset.x),this.y=this.dragStart.y+(i-this.cursorOffset.y)},mouseUpDragging:function(){this.dragStart.x=null,this.dragStart.y=null,this.dragging=!1,document.removeEventListener("mousemove",this.mouseMoveDragging),document.removeEventListener("mouseup",this.mouseUpDragging)},displayControls:function(){this.showControls=!0,document.body.addEventListener("click",this.hideControls)},hideControls:function(t){t.target!==this.$el&&(this.showControls=!1)},resize:function(){var t=this.$refs.text.getComputedTextLength(),e=t+20;this.blockWidth=e},startResize:function(t){var e=t.fixTop,i=void 0!==e&&e,n=t.fixBottom,s=void 0!==n&&n,o=t.fixRight,r=void 0!==o&&o,h=t.fixLeft,a=void 0!==h&&h;this.fixedPositions.top=i&&this.y,this.fixedPositions.bottom=s&&this.y+this.height,this.fixedPositions.right=r&&this.x+this.width,this.fixedPositions.left=a&&this.x,this.resizing=!0,document.addEventListener("mousemove",this.mouseMoveResize),document.addEventListener("mouseup",this.mouseUpResizing)},mouseMoveResize:function(t){var e=t.pageX,i=t.pageY;this.fixedPositions.top&&(this.height=Math.max(10,i-this.fixedPositions.top)),this.fixedPositions.bottom&&(this.y=Math.max(0,i),this.height=Math.max(10,this.fixedPositions.bottom-i)),this.fixedPositions.right&&(this.x=Math.max(0,e),this.width=Math.max(10,this.fixedPositions.right-e)),this.fixedPositions.left&&(this.width=Math.max(10,e-this.fixedPositions.left))},mouseUpResizing:function(){this.resizing=!1,document.removeEventListener("mousemove",this.mouseMoveResize),document.removeEventListener("mouseup",this.mouseUpResizing)},toggleContentEditable:function(t){t.preventDefault(),t.stopPropagation(),this.contentEditable=!this.contentEditable}}}),d=a,u=(i("e18e"),i("2877")),l=Object(u["a"])(d,r,h,!1,null,null,null),g=l.exports,f={name:"app",components:{Step:g},data:function(){return{width:600,height:4e3}},mounted:function(){this.handleResize(),window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){var t=this.$refs.parent.getBoundingClientRect(),e=t.width,i=t.height;this.width=e,this.height=i}}},c=f,p=(i("034f"),Object(u["a"])(c,s,o,!1,null,null,null)),x=p.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(x)}}).$mount("#app")},"64a9":function(t,e,i){},"90fd":function(t,e,i){},e18e:function(t,e,i){"use strict";var n=i("90fd"),s=i.n(n);s.a}});
//# sourceMappingURL=app.9c9b6c75.js.map